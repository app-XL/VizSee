<!--div ng-include src="'/public/mods/visits/sessions/visitPanel.html'"></div-->
<div ng-repeat="(key, value) in scheduleList | groupBy:'scheduleDate'" ng-if="showAll">
  <div class="page-header header{{$index}}">
    <div class="row">
        <img src="../../../../public/assets/g/imgs/csclogo-new.png" class="pull-left cscLogo" width="84" height="48"/>
        <img src="../../../../public/assets/g/imgs/printHeader.png" class="pull-left printHeaderImg"/>
        <div ng-if="showPrintAvatar == true">
           <img src="{{printAvatar}}" alt="" class="pull-right" width="84" height="48"/>
        </div>
        <div ng-if="showPrintAvatar == false"></div>
      </div>
  </div>

<label class="dateHeader">Agenda: {{key | date:'EEEE, dd MMM yyyy'}} | CSC {{meetingLocations[$index]}}</label>

<table class="table table-striped table-condensed table-responsive table-hover" cellpadding="0" cellspacing="0">
  <thead class="data-grid-header">
    <tr>
      <!--th>Type</th-->
      <th>Time (Hrs.)</th>
      <th>Session/Activity</th>
      <!--th>Anchor(s)</th-->
      <th>Participants</th>
      <th>Venue</th>      
    </tr>
  </thead>

  <tbody class="data-grid-data">
    <tr ng-repeat="schedule in value">
      <!--td>{{schedule.session.type}}</td-->
      <td>{{schedule.session.startTime | date:'hh:mma'}} - {{schedule.session.endTime | date:'hh:mma'}}</td>
      <!--Title -->
      <td ng-if="schedule.session.type == 'presentation' || schedule.session.type == 'discussion' || schedule.session.type == 'floor-walk' || schedule.session.type == 'visit-wrap-up' ">{{schedule.session.title}}</div>
       </td>
      <td colspan="2" align="center" ng-if="schedule.session.type == 'breakfast' || schedule.session.type == 'tea-break' || schedule.session.type == 'lunch' || schedule.session.type == 'dinner' ">{{schedule.session.type}}</td>

      <!--Anchor -->
      <!--td ng-if="schedule.session.type == 'presentation' || schedule.session.type == 'discussion' || schedule.session.type == 'floor-walk' || schedule.session.type == 'visit-wrap-up' "><div class="removeHref" userdisplay view-mode="nameonly" user-id="schedule.session.owner" no-user-msg="{{}}"></div>
       </td>
      <td ng-if="schedule.session.type == 'breakfast' || schedule.session.type == 'tea-break' || schedule.session.type == 'lunch' || schedule.session.type == 'dinner' "> {{}} </td-->

      <!--Participants -->
      <td ng-if="schedule.session.type == 'presentation' || schedule.session.type == 'discussion' || schedule.session.type == 'floor-walk' || schedule.session.type == 'visit-wrap-up' ">
        <div class="anchorbold" userdisplay view-mode="nameonly" user-id="schedule.session.owner" no-user-msg="{{}}"></div>,
        <ul>
         <li ng-repeat="val in schedule.invitees">
            <div class="removeHref" userdisplay view-mode="nameonly" user-id="val" no-user-msg="{{}}"></div>
          </li>
        </ul>
      </td>
      <!--td ng-if="schedule.session.type == 'breakfast' || schedule.session.type == 'tea-break' || schedule.session.type == 'lunch' || schedule.session.type == 'dinner' "> {{}} </td-->

      <td>{{schedule.session.location}}</td>
    </tr>
  </tbody>
</table>
</div><!--end of repeat of group by -->

<!--DAY WISE FILTER -->
 <div class="page-header-filter" ng-if="showFiltered">
  <div class="row">
    <img src="../../../../public/assets/g/imgs/csclogo-new.png" class="pull-left cscLogo" width="84" height="48"/>
    <img src="../../../../public/assets/g/imgs/printHeader.png" class="pull-left printHeaderImg"/>
    <div ng-if="showPrintAvatar == true">
       <img src="{{printAvatar}}" alt="" class="pull-right" width="84" height="48"/>
    </div>
    <div ng-if="showPrintAvatar == false"></div>
  </div>
</div>

<label class="dateHeader" ng-if="showFiltered">Agenda: {{entryDate | DateFormat:"dddd, DD MMM YYYY" }} | CSC {{index}}</label>

<div ng-repeat="schedule in scheduleList | filter:dayFilter as filtered">
</div>

<table class="table table-striped table-condensed table-responsive table-hover" ng-if="showFiltered" cellpadding="0" cellspacing="0">
  <thead class="data-grid-header">
    <tr>
      <!--th>Date</th>
      <th>Type</th-->
      <th>Time (Hrs.)</th>
      <th>Session/Activity</th>
      <!--th>Anchor(s)</th-->
      <th>Participants</th>
      <th>Venue</th>
    </tr>
  </thead>
  <tbody class="data-grid-data">
    <tr ng-repeat="schedule in filtered | filter:dayFilter | filter:search |  orderBy:orderByField:reverseSort">
      <!--td>{{schedule.scheduleDate | date:'dd MMM yyyy'}}</td>
      <td>{{schedule.session.type}}</td-->
      <td>{{schedule.session.startTime | date:'hh:mma'}} - {{schedule.session.endTime | date:'hh:mma'}}</td>
      <!--Title -->
      <td ng-if="schedule.session.type == 'presentation' || schedule.session.type == 'discussion' || schedule.session.type == 'floor-walk' || schedule.session.type == 'visit-wrap-up' ">{{schedule.session.title}}</div>
       </td>
      <td colspan="2" align="center" ng-if="schedule.session.type == 'breakfast' || schedule.session.type == 'tea-break' || schedule.session.type == 'lunch' || schedule.session.type == 'dinner' ">{{schedule.session.type}}</td>

      <!--Anchors -->
      <!--td ng-if="schedule.session.type == 'presentation' || schedule.session.type == 'discussion' || schedule.session.type == 'floor-walk' || schedule.session.type == 'visit-wrap-up' "><div class="removeHref" userdisplay view-mode="nameonly" user-id="schedule.session.owner" no-user-msg="{{}}"></div>
       </td>
      <td ng-if="schedule.session.type == 'breakfast' || schedule.session.type == 'tea-break' || schedule.session.type == 'lunch' || schedule.session.type == 'dinner' "> {{}} </td-->

      <!--Participants -->
      <td ng-if="schedule.session.type == 'presentation' || schedule.session.type == 'discussion' || schedule.session.type == 'floor-walk' || schedule.session.type == 'visit-wrap-up' ">
        <div class="anchorbold" userdisplay view-mode="nameonly" user-id="schedule.session.owner" no-user-msg="{{}}"></div>,
        <ul>
          <li ng-repeat="val in schedule.invitees">
            <div class="removeHref" userdisplay view-mode="nameonly" user-id="val" no-user-msg="{{}}"></div> 
          </li>
        </ul>
      </td>
      <!--td ng-if="schedule.session.type == 'breakfast' || schedule.session.type == 'tea-break' || schedule.session.type == 'lunch' || schedule.session.type == 'dinner' "> {{}} </td-->
      <td>{{schedule.session.location}}, CSC {{index}}</td>
    </tr>
  </tbody>
</table>